/* ========================
   Root / Reset
   ======================== */
:root{
  --primary-color:#6366F1;
  --primary-hover:#4F46E5;
  --bg-main:#f3f4f6;
  --card-bg:#fff;
  --text-dark:#1f2937;
  --text-light:#6b7280;
  --border-color:#e5e7eb;
  --input-bg:#f9fafb;
  --radius-lg:12px;
  --radius-md:8px;
  --shadow-xl:0 20px 25px -5px rgba(0,0,0,.1),0 8px 10px -6px rgba(0,0,0,.1);
  --shadow-md:0 4px 6px -1px rgba(0,0,0,.1),0 2px 4px -2px rgba(0,0,0,.1);
  --shadow-sm:0 1px 2px 0 rgba(0,0,0,.05);
}

*,*::before,*::after{box-sizing:border-box;margin:0;padding:0}
body{
  font-family:"Inter",-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Helvetica,Arial,sans-serif;
  background:var(--bg-main);color:var(--text-dark);line-height:1.6;direction:rtl;text-align:right;
  padding-bottom:3rem;
}

/* ========================
   Header
   ======================== */
header{
  background:linear-gradient(135deg,var(--primary-color) 0%,#a855f7 100%);
  color:#fff; padding:3rem 1.5rem 7.25rem 1.5rem; /* 转专 拽 转转 */
  text-align:center; position:relative;
}
header h1{font-size:2.75rem;font-weight:800;margin-bottom:.5rem}
header p{font-size:1.1rem;opacity:.9}

.user-corner{
  position:absolute;top:1rem;left:1.5rem;display:flex;align-items:center;gap:.75rem;
  color:#fff;font-weight:500;font-size:.9rem;z-index:2;
}
.user-button{
  padding:.5rem 1rem;border-radius:var(--radius-md);text-decoration:none;font-weight:500;transition:.2s;font-size:.9rem
}
.user-button.login{background:#fff;color:var(--primary-color);box-shadow:var(--shadow-sm)}
.user-button.login:hover{background:#f0f0f0;transform:translateY(-1px)}
.user-button.logout{background:transparent;border:1px solid rgba(255,255,255,.5);color:#fff}
.user-button.logout:hover{background:rgba(255,255,255,.1)}

/* ========================
   Main Card
   ======================== */
main{
  max-width:900px;margin:-5.25rem auto 0 auto; /* 砖 注 专  住转 */
  padding:2.5rem;background:var(--card-bg);border-radius:var(--radius-lg);
  box-shadow:var(--shadow-xl);border:1px solid var(--border-color);position:relative;z-index:1;
}
@media (max-width:480px){
  header{padding-bottom:8.5rem}
  main{margin:-6.5rem auto 0 auto;padding:1.25rem}
}

/* ========================
   Login prompt block
   ======================== */
.login-prompt{
  text-align:center;padding:2rem;background:var(--input-bg);border:1px dashed var(--border-color);
  border-radius:var(--radius-lg);margin-bottom:1.75rem
}
.login-prompt h3{border:none;margin-bottom:.5rem}
.login-prompt p{margin-bottom:1.25rem;color:var(--text-light)}

/* ========================
   Form
   ======================== */
form h3{
  font-size:1.2rem;font-weight:600;color:var(--text-dark);padding-bottom:.75rem;border-bottom:1px solid var(--border-color);
  margin-bottom:1.5rem;margin-top:1rem;display:flex;align-items:center;gap:.75rem
}
form h3:first-of-type{margin-top:0}

.form-grid-3{display:grid;grid-template-columns:1fr;gap:1.25rem}
@media (min-width:768px){.form-grid-3{grid-template-columns:repeat(3,1fr)}}

.form-group{display:flex;flex-direction:column;gap:.5rem}
label{font-weight:500;font-size:.875rem;color:var(--text-light)}
input[type="text"],select{
  width:100%;padding:.75rem 1rem;border:1px solid var(--border-color);border-radius:var(--radius-md);
  background:var(--input-bg);font-size:1rem;color:var(--text-dark);transition:border-color .2s,box-shadow .2s
}
input[type="text"]:focus,select:focus{
  outline:none;border-color:var(--primary-color);background:var(--card-bg);
  box-shadow:0 0 0 3px rgba(99,102,241,.2)
}
select:disabled{cursor:not-allowed;opacity:.7}

/* Button & Spinner */
#submit-button{
  display:flex;justify-content:center;align-items:center;gap:.75rem;padding:1rem 1.5rem;font-size:1.05rem;font-weight:700;
  color:#fff;background:var(--primary-color);border:none;border-radius:var(--radius-md);cursor:pointer;transition:.2s;margin-top:2rem;
  box-shadow:var(--shadow-md)
}
#submit-button:hover{background:var(--primary-hover);transform:translateY(-2px)}
#submit-button:disabled{background:var(--text-light);cursor:not-allowed;transform:none;box-shadow:none}
.spinner{width:20px;height:20px;border:3px solid rgba(255,255,255,.3);border-radius:50%;border-top-color:#fff;animation:spin 1s linear infinite}
.hidden{display:none}
@keyframes spin{to{transform:rotate(360deg)}}

/* ========================
   Results
   ======================== */
#results-container{margin-top:2.25rem;border-top:1px solid var(--border-color);padding-top:2rem}
#results-content h3{text-align:center;font-size:1.45rem;font-weight:600;color:var(--text-light);margin-bottom:.5rem}
#results-content .score-value{text-align:center;font-size:3.5rem;font-weight:800;color:var(--primary-color);line-height:1;margin-bottom:1.25rem}

#results-content .summary-text{
  font-size:1.05rem;line-height:1.7;text-align:center;background:var(--input-bg);padding:1.25rem;border-radius:var(--radius-md);
  border:1px solid var(--border-color);margin-bottom:1.5rem
}

/* Tabs */
.result-tabs{display:flex;border-bottom:1px solid var(--border-color);margin-bottom:1.25rem}
.tab{padding:.6rem 1rem;cursor:pointer;font-weight:500;color:var(--text-light);border-bottom:3px solid transparent;transition:.2s;margin-bottom:-1px}
.tab:hover{color:var(--text-dark)}
.tab.active{color:var(--primary-color);border-bottom-color:var(--primary-color)}
.tab-content{display:none}
.tab-content.active{display:block}

#results-content ul{list-style:none;padding:0}
#results-content ul li{position:relative;padding-right:30px;margin-bottom:.7rem;font-size:1rem}
#results-content ul li::before{content:"";position:absolute;right:0;top:0}

.score-breakdown-list li{
  display:flex;justify-content:space-between;align-items:center;padding:.6rem 0;border-bottom:1px dashed var(--border-color)
}
.score-breakdown-list li:first-child{padding-top:.25rem}
.score-breakdown-list li:last-child{border-bottom:none}
.score-breakdown-list li::before{content:none}
.score-breakdown-list li span:first-child{font-weight:500}
.score-breakdown-list li span:last-child{font-weight:700;color:var(--text-dark)}

.competitor-item{margin-bottom:1rem;padding-bottom:1rem;border-bottom:1px dashed var(--border-color)}
.competitor-item:last-child{border:none}
.competitor-item strong{color:var(--text-dark)}

#results-content mark{
  display:block;padding:1rem;margin:1.25rem 0;background:#fffbeb;border:1px solid #fde68a;border-radius:var(--radius-md);text-align:center;font-weight:500;color:#92400e
}
#results-content mark.error{
  background:#fef2f2;border-color:#fecaca;color:#991b1b;font-weight:700
}
#results-content small{display:block;text-align:center;color:var(--text-light);margin-top:1.5rem;font-size:.875rem}
