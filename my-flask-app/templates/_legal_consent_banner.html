<div id="{{ banner_id|default('legalBanner') }}"
     class="mb-6 p-4 rounded-xl border text-sm space-y-3 {{ 'bg-emerald-500/10 border-emerald-500/30 text-emerald-200' if legal_accepted else 'bg-warning/10 border-warning/30 text-warning' }}"
     data-terms-version="{{ terms_version }}"
     data-privacy-version="{{ privacy_version }}"
     data-legal-accepted="{{ 'true' if legal_accepted else 'false' }}">
    <div class="flex items-center gap-2">
        <span>{{ '✅' if legal_accepted else '⚠️' }}</span>
        <span id="{{ status_id|default('legalStatusText') }}">
            {{ 'Legal consent accepted ✅' if legal_accepted else 'You must accept Terms & Privacy before running AI.' }}
        </span>
    </div>
    <label class="flex items-start gap-2 text-slate-200 cursor-pointer">
        <input type="checkbox"
               id="{{ checkbox_id|default('legalConfirmCheckbox') }}"
               class="mt-1 rounded border-slate-600 bg-slate-800 text-primary"
               {% if legal_accepted %}checked disabled{% endif %}>
        <span>I confirm I read and agree to the <a href="{{ url_for('public.terms') }}" target="_blank" class="underline {{ 'text-emerald-300' if legal_accepted else 'text-warning' }}">Terms of Use</a> and <a href="{{ url_for('public.privacy') }}" target="_blank" class="underline {{ 'text-emerald-300' if legal_accepted else 'text-warning' }}">Privacy Policy</a></span>
    </label>
    {% if show_accept_button|default(false) %}
    <div class="flex items-center gap-3">
        <button id="{{ accept_button_id|default('acceptLegalBtn') }}"
                class="px-4 py-1 rounded-lg bg-warning text-dark font-bold text-xs hover:bg-warning/80 transition {% if legal_accepted %}hidden{% endif %}">
            אשר עכשיו
        </button>
        <span id="{{ error_id|default('legalError') }}" class="hidden text-xs text-danger">יש לסמן את תיבת האישור לפני המשך.</span>
    </div>
    {% elif error_id is defined %}
    <p id="{{ error_id }}" class="hidden text-xs text-danger">יש לסמן את תיבת האישור לפני המשך.</p>
    {% endif %}
</div>
